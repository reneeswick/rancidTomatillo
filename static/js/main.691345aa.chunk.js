(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var s=r(0),c=r.n(s),a=r(15),n=r.n(a),o=(r(22),r(7)),i=r(8),l=r(10),h=r(9),j=(r(23),r(5)),d=r(1),m=function(e){var t=e.id,r=e.poster,s=e.title;return Object(d.jsx)(j.c,{to:"/".concat(t),className:"Card",children:Object(d.jsx)("img",{src:r,alt:"Poster for the movie ".concat(s),className:"moviePoster",id:t})})},u=(r(33),function(e){var t=e.movieData,r=e.selectMovie,s=t.map((function(e){return Object(d.jsx)(m,{id:e.id,poster:e.poster_path,title:e.title,selectMovie:r},e.id)}));return Object(d.jsx)("div",{className:"CardContainer",children:s})}),v=(r(34),r(2)),b=function(e){Object(l.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).returnHome=function(){e.setState({movieData:{},hasError:!1})},e.state={movieData:{},hasError:!1},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){if(e.status>=500)console.log("fetch one error\n: response status >= 500");else{if(e.ok)return e.json();console.log("fetch two error\n: response not ok")}}))).then((function(e){void 0===e?t.setState({hasError:!0}):t.setState({movieData:e.movie})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){if(this.state.hasError)return Object(d.jsx)(v.a,{to:"/Error"});var e=this.state.movieData,t=e.title,r=e.release_date,s=e.backdrop_path,c=e.overview,a=e.tagline;e.genres;return Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:"movie-back-drop",style:{backgroundImage:"url(".concat(s,")")},children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("section",{className:"movie-details-container",children:[Object(d.jsx)("h2",{className:"title",children:t}),Object(d.jsx)("h3",{className:"tagline",children:a}),Object(d.jsx)("p",{className:"overview",children:c}),Object(d.jsx)("div",{className:"genre-container"}),Object(d.jsxs)("h3",{className:"release-date",children:["(Released: ",r,") "]})]}),Object(d.jsx)(j.c,{to:"/",children:Object(d.jsx)("button",{className:"return-home-btn",children:"HOME"})})]})})})}}]),r}(s.Component),p=(r(35),r(36),function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"error",children:"Uh oh -- There's been a blooper!"}),Object(d.jsx)("p",{className:"error-msg",children:"We're sorry. There's been an error."}),Object(d.jsx)("img",{className:"blooper-img",src:"https://i.ytimg.com/vi/pvm6avc8Zwo/maxresdefault.jpg",alt:"multi-colored, vertical lines from classic blooper reels"}),Object(d.jsx)("p",{className:"error-instr",children:"Visit our home page or try again later."}),Object(d.jsx)(j.c,{to:"/",className:"link",children:" Click here to go home "})]})}),O=function(e){Object(l.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).returnHome=function(){e.setState({movieIsSelected:!1,selectedMovie:{},hasError:!1})},e.state={movies:[],selectedMovie:{},movieIsSelected:!1,hasError:!1},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.movies})})).catch((function(t){console.log("Error getting all movies:",t),e.setState({hasError:!0})}))}},{key:"render",value:function(){var e=this;return Object(d.jsx)(j.b,{basename:"/",children:Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{className:"page-title",children:"Rancid Tomatillos"})}),this.state.hasError&&Object(d.jsx)("h2",{children:"There is an error with the server, please try again."}),Object(d.jsxs)(v.d,{children:[Object(d.jsx)(v.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(u,{movieData:e.state.movies,selectedMovie:e.state.selectedMovie,selectMovie:e.selectMovie})}}),Object(d.jsx)(v.b,{path:"/Error",component:p}),Object(d.jsx)(v.b,{exact:!0,path:"/:id",render:function(t){var r=t.match;return Object(d.jsx)(b,{id:r.params.id,handleError:e.handleError})}})]})]})})}}]),r}(s.Component),f=Object(d.jsxs)(j.a,{children:[" ",Object(d.jsx)(O,{className:"app"})," "]});n.a.render(Object(d.jsx)(c.a.StrictMode,{children:f}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.691345aa.chunk.js.map